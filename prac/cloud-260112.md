---
tags:
  - topic/cloud
  - type/practice
Date: 2026-01-12
aliases:
  - uninstall-kpaas
  - nginx
  - container
---
## 1. 실습 환경 정리
- 이전 실습에서 설치했던 컨테이너 플랫폼 관련 리소스 정리
### 1-1. 소스컨트롤 삭제

```sh
$ cd ~/workspace/container-platform/cp-source-control-deployment/script
$ chmod +x uninstall-cp-source-control.sh
$ ./uninstall-cp-source-control.sh
```
### 1-2. 파이프라인 삭제
```sh
$ cd ~/workspace/container-platform/cp-pipeline-deployment-script
$ chmod +x uninstall-cp-pipeline.sh
$ ./uninstall-cp-pipeline.sh
```
### 1-3. 포털 삭제
```sh
$ cd ~/workspace/container-platform/cp-portal-deployment/script
$ chmod +x uninstall-cp-portal.sh
$ ./uninstall-cp-portal.sh
```
### 1-4. 리소스 정리 상태 확인
- k9s 설치 후 리소스 정리
- helm list
```sh
$ helm list
$ kubectl get storageclass
```

---

## 2. Nginx 실습
### 2-1. Nginx Pod 생성
```sh
$ kubectl run jde-pods --port 80 --image nginx
```
<img width="2510" height="183" alt="Pasted image 20260112114010" src="https://github.com/user-attachments/assets/71b7a089-a3d7-455f-ad04-5266f034aaf6" />

### 2-2. Service Exposure
```sh
$ kubectl expose pod jde-pods --name jde-svc --port 80 --target-port 80 --type=NodePort
```
<img width="1903" height="113" alt="Pasted image 20260112114126" src="https://github.com/user-attachments/assets/86ce448b-1e11-4ccc-b3e0-8cf78a608dd1" />

### 2-3. 컨테이너 내부 접근 및 파일 수정
```sh
$ kubectl exec -it jde-pods -- /bin/sh
```
- 내부에서 vim 설치
```
# apt-get update
# apt-get install vim
# cd /usr/share/nginx/html
# ls
50x.html  index.html
```
<img width="1813" height="471" alt="Pasted image 20260112114719" src="https://github.com/user-attachments/assets/6d2f75fa-b905-4a5d-9992-021fc5170707" />
<img width="1438" height="140" alt="Pasted image 20260112114813" src="https://github.com/user-attachments/assets/983a1b0e-ca8c-48ee-a536-d0ef50f2165b" />

<img width="1624" height="763" alt="Pasted image 20260112114850" src="https://github.com/user-attachments/assets/f794e7df-d750-4a77-aaa8-78e37a5ab16c" />

- `index.html` 수정하면 접속했을 때 나오는 문구가 바뀜
	- 이거 시험 문제
<img width="2463" height="154" alt="Pasted image 20260112115012" src="https://github.com/user-attachments/assets/264c5a9b-ba6f-40fc-8c70-0afd4bf77cbf" />
<img width="1926" height="848" alt="Pasted image 20260112115059" src="https://github.com/user-attachments/assets/cf4704b3-741a-4197-8d0d-111e5b242206" />
<img width="1558" height="140" alt="Pasted image 20260112115139" src="https://github.com/user-attachments/assets/e9f758f2-01d9-41f3-8c58-740e9e459892" />
<img width="1388" height="751" alt="Pasted image 20260112115331" src="https://github.com/user-attachments/assets/16ef39ac-01d2-496d-a39a-7f25712fc351" />

### 2-4. 외부 접속 테스트
- 수정된 내용이 외부 접속 시 실제로 반영되는지 확인
	- `http://<Node_IP>:<NodePort>`
	- `133.186.xxx.xxx:31398`
		- svc port
- 느려지면 floatingIP 교체
