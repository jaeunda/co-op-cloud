---
Date: 2026-01-02
tags:
  - type/practice
  - topic/cloud
aliases:
  - install-kpaas
  - kubernetes
  - deployment
  - job
  - pipeline
---
# Spring Music 배포 실습
### Openbao 구성 및 동작 확인
![[Pasted image 20260102104121.png]]
- openbao `Running`
![[Pasted image 20260102104138.png]]
- 비밀 정보 관리 시스템
![[Pasted image 20260102104147.png]]
![[Pasted image 20260102104203.png]]
![[Pasted image 20260102104236.png]]
![[Pasted image 20260102104310.png]]
- `Error`상태인 openbao Pod는 삭제함.
![[Pasted image 20260102111912.png]]
![[Pasted image 20260102111932.png]]
### spring music 애플리케이션 배포
#### `kubeconfig` 생성
![[Pasted image 20260102112406.png]]
- Control Plane 노드에서 생성된 `kubeconfig` 파일 사용
- 외부 도구 및 플래폼이 해당 Kubernetes 클러스터에 접근할 수 있도록 설정
![[Pasted image 20260102112328.png]]
- 파이프라인에서 `kubeconfig` 등록
- 지정된 Kubernetes 클러스터를 대상으로 명령을 실행하게 됨
![[Pasted image 20260102112349.png]]
#### 새로운 Pipeline 생성
![[Pasted image 20260102112659.png]]
![[Pasted image 20260102112726.png]]
![[Pasted image 20260102112733.png]]

#### Job 생성
##### Job Type 1: Build Job
![[Pasted image 20260102112855.png]]
- 애플리케이션 소스 코드를 기반으로 빌드 작업 수행
![[Pasted image 20260102113059.png]]
- `openjdk:8-jdk-alpine`에서 에러가 발생하여 이미지 교체
![[Pasted image 20260102113124.png]]
![[Pasted image 20260102113239.png]]
##### Job Type 2: Static Analysis Job
- 빌드된 소스 코드를 대상으로
- 정적 분석 도구를 이용해 코드 품질 검사
![[Pasted image 20260102113342.png]]
##### Job Type 3: JUnit-Test Job
- 애플리케이션에 대한 단위(Unit) 테스트 수행
- 주요 로직이 의도한 대로 동작하는지 자동 검증
![[Pasted image 20260102113358.png]]
##### Job Type 4: Deployment Job
- 테스트를 통과한 애플리케이션을 대상으로 이미지를 생성하고
- 컨테이너 레지스트리에 저장한 뒤
- Kubernetes 클러스터에 배포
![[Pasted image 20260102113700.png]]
![[Pasted image 20260102113706.png]]
#### Deployment 배포 확인
###### Error: manifest for openjdk:8-jdk-alpine not found

![[Pasted image 20260102113719.png]]
![[Pasted image 20260102114027.png]]
![[Pasted image 20260102114119.png]]
- openjdk -> amazon 이미지 교체
###### 배포 성공
![[Pasted image 20260102115007.png]]
![[Pasted image 20260102115046.png]]
![[Pasted image 20260102115101.png]]
![[Pasted image 20260102115112.png]]
![[Pasted image 20260102115156.png]]
![[Pasted image 20260102115258.png]]
![[Pasted image 20260102115306.png]]
![[Pasted image 20260102115350.png]]
![[Pasted image 20260102115326.png]]
###### 애플리케이션 접속
- 기존 interface floating IP + spring music port num
- `http://133.186.xxx.xxx:31233/`
![[Pasted image 20260102115639.png]]
![[Pasted image 20260102121648.png]]![[Pasted image 20260102121702.png]]
[Kubernetes - Deployment](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/)
![[Pasted image 20260102121838.png]]
![[Pasted image 20260102121914.png]]
![[Pasted image 20260102122010.png]]
[Kubernetes - Service/Choosing-your-own-port](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport-custom-port)
![[Pasted image 20260102122209.png]]
![[Pasted image 20260102122730.png]]
![[Pasted image 20260102122757.png]]
![[Pasted image 20260102123009.png]]
![[Pasted image 20260102123959.png]]
